<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Events Now</title>
    <link rel="icon" type="image/x-icon" href="assets/imagens/favicon.ico">
    <style>
        

    </style>
</head>
<body>

    <div class="container-fluid m-0 p-0">
        <div id="login-row" class="row row-cols-12 justify-content-center align-items-center m-0 p-0">

            <div id="login-column" class="col d-flex flex-column align-items-center">
                
                <div id="logolog">
                    <a href="index.html"><img src="assets/imagens/vetor-sombra-2.png" class="card-img-top" alt="Logo Events Now"></a>
                </div>

                <div class="text-center mt-4">
                    <h2 class="card-title">Bem vindo de volta!</h2>
                </div>
                
                <form id="login-form" class="form d-flex flex-column align-items-center w-100" method="post" onsubmit="checkCredentials(this)">
                    <div class="form-group w-100">
                        <label for="username" class="text-info"></label><br>
                        <input type="text" name="username" id="username" class="form-control" placeholder="E-mail">
                    </div>
                    <div class="form-group w-100">
                        <label for="password" class="text-info"></label><br>
                        <input type="password" name="password" id="password" class="form-control" placeholder="Senha">
                    </div>
                    <div class="form-group text-right w-100">                                
                        <input type="submit" name="submit" class="btn color-now1 mt-3 w-100" value="Entrar">
                    </div>
                </form>

                <p class="mt-3">Não tem uma conta? <a href="cadastro.html">Cadastre-se</a></p>

            </div>                
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="login.js"></script>
    <script>        
        // Declara uma função para processar o formulário de login
        function processaFormLogin (event) {                
                // Cancela a submissão do formulário para tratar sem fazer refresh da tela
                event.preventDefault ();

                // Obtem os dados de login e senha a partir do formulário de login
                var username = document.getElementById('username').value;
                var password = document.getElementById('password').value;               
               
                checkCredentials(username, password)
                    .then(result => {
                        result ? window.location.href = 'index.html' : alert ('Usuário ou senha incorretos')
                    })
                    .catch(error => {
                    console.error('Error:', error);
                    });                
                }

        // Associa a funçao processaFormLogin  formulário adicionado um manipulador do evento submit
        document.getElementById ('login-form').addEventListener ('submit', processaFormLogin);    
    </script>
</body>
</html>
